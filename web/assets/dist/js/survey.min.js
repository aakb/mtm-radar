!function(n){var t=function(n,t){return"undefined"!=typeof SurveyConfiguration&&SurveyConfiguration&&void 0!==SurveyConfiguration[n]&&SurveyConfiguration[n]?SurveyConfiguration[n]:t},e=t("backgroundColors",["rgba(0,155,221,0.2)","rgba(155,0,221,0.2)","rgba(0,221,155,0.2)"]),i=t("borderColors",["#009BDD","#00DD9B","#9B00DD"]),r=t("pointBackgroundColors",["#009BDD","#00DD9B","#9B00DD"]),a=t("datasetConfig",{fill:!0,backgroundColor:e[0],borderColor:i[0],pointRadius:2,pointBorderWidth:0,pointBackgroundColor:r[0],pointStyle:"circle",data:[]}),o=function(t,o){return t||(t=0),n.extend({},a,{backgroundColor:e[t],borderColor:i[t],pointBackgroundColor:r[t]},o)},d=function(t){return t.find(".question").map(function(){return{title:n(this).find(".title").html(),text:n(this).find(".text").html(),reply:n(this).find('input[type="radio"]:checked').val(),comment:n(this).find("textarea").val()}}).get()},u=function(t){var e=n(t),i=e.data("replies"),r=e.data("configuration"),a=e.find("section"),u=d(e),s=function(){var n=0;for(var t in r.rating)if(r.rating.hasOwnProperty(t)){var e=parseInt(t);e>n&&(n=e)}return n}(),c=function(){var n=0,t=/^#([0-9]+)/.exec(location.hash);return t&&t[1]&&(n=t[1]),n-1}(),f=a.length,l=new Chart(document.getElementById("chart"),{type:"radar",data:{labels:u.map(function(n,t){return t+1+". "}),datasets:[o()]},options:{legend:{display:!1},scale:{ticks:{min:0,max:s,stepSize:1},gridLines:{color:["#C00122","#FECE60","#7DBA6D","#22A136","#FFFFFF"]}}}}),h=function(n,t){l.data.datasets[0].data[n]=t,l.update()},p=function(){a.hide().eq(c).show().find(".question").length>0?(n("#chartinfo-wrapper").show(),n("#survey-info").hide()):(n("#chartinfo-wrapper").hide(),n("#survey-info").show()),n(window).scrollTop(0)},g=function(){n("form").validate({showErrors:function(){n("#validation-errors").toggle(this.errorList.length>0)}}),n("form").valid()&&(c<f&&c++,p())};if("undefined"!=typeof surveyReplies){var v=n(".answer-handle").map(function(){return n.trim(n(this).parent().text())}).get(),y=function(){var t=n(".answer-handle:checked").map(function(){return n(this).data("index")}).get();n(".reply").each(function(){var e=n(this).data("answer-index");n(this).toggle(t.indexOf(e)>-1)}),l.data.datasets=surveyReplies.filter(function(n,e){return t.indexOf(e)>-1}).map(function(n,t){return o(t,{label:v[t],data:n.map(function(n){return n.value})})}),l.options.legend.display=!0,l.update()};n(".answer-handle").on("change",y),y()}else i?i.forEach(function(n,t){h(t,n.value)}):(e.find(".survey-prev").on("click",function(){c>0&&(c--,p())}),e.find(".survey-next").on("click",g),e.find('input[type="radio"]').on("change",function(){var t=n(this).closest("[data-index]").data("index");h(t,n(this).val())}),e.find('input[type="radio"]').each(function(){if(n(this).prop("checked")){var t=n(this).closest("[data-index]").data("index");h(t,n(this).val())}}),g())};n(function(){u(".survey")})}(jQuery);