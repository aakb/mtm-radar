!function(t){var n=function(n){return n.find(".question").map(function(){return{title:t(this).find(".title").html(),text:t(this).find(".text").html(),reply:t(this).find('input[type="radio"]:checked').val(),comment:t(this).find("textarea").val()}}).get()},i=function(i){var e=t(i),a=e.data("replies"),r=e.data("configuration"),o=e.find("section"),d=n(e),s=function(){var t=0;for(var n in r.rating)if(r.rating.hasOwnProperty(n)){var i=parseInt(n);i>t&&(t=i)}return t}(),c=function(){var t=0,n=/^#([0-9]+)/.exec(location.hash);return n&&n[1]&&(t=n[1]),t-1}(),l=o.length,u=new Chart(document.getElementById("chart"),{type:"radar",data:{labels:d.map(function(t,n){return n+1+". "}),datasets:[{label:"Answer",fill:!0,backgroundColor:"rgba(0,155,221,0.2)",borderColor:"#009BDD",pointRadius:8,data:[]}]},options:{legend:{display:!1},scale:{ticks:{min:0,max:s,stepSize:1},gridLines:{color:["#C00122","#FECE60","#7DBA6D","#22A136","#FFFFFF"]}}}}),f=function(t,n){u.data.datasets[0].data[t]=n,u.update()},h=function(){o.hide().eq(c).show().find(".question").length>0?(t("#chart-wrapper").show(),t("#survey-info").hide()):(t("#chart-wrapper").hide(),t("#survey-info").show()),t(window).scrollTop(0)},p=function(){t("form").validate({showErrors:function(){t("#validation-errors").toggle(this.errorList.length>0)}}),t("form").valid()&&(c<l&&c++,h())};a?a.forEach(function(t,n){f(n,t.value)}):(e.find(".survey-prev").on("click",function(){c>0&&(c--,h())}),e.find(".survey-next").on("click",p),e.find('input[type="radio"]').on("change",function(){var n=t(this).closest("[data-index]").data("index");f(n,t(this).val())}),p())};t(function(){i(".survey")})}(jQuery);